#summary 本文介绍如何让joomla1.7系统能够使用新浪、腾讯、网易的帐号进行登录。

<wiki:toc max_depth="2" />

= 简介 =

本文介绍如何使用Joomla的微博插件，让joomla系统能够使用
新浪、腾讯、网易的帐号进行登录。

本文以标准的Joomla页面及缺省的安装示范数据作为例子，每个由Joomla构筑的网站多少会有所不同，但是如果您仔细阅读了本文。相信一定能够在您的网站中配置好通过本插件，使用微博登录Joomla的。

= 配置用户界面 =

要使用微博登录，首先，要启用“认证-微博”插件

== 启用插件 ==

进入菜单“扩展-插件管理”，选择“认证-微博”，然后启用本插件

http://joomla-weibo.googlecode.com/svn/wiki/images/17/4.png

这时，系统已经具备了微博登录功能，但是用户界面上却没有相应的连接。您可以参照以下的方法，为您自己的页面设置微博登录的用户界面:

安装完Joomla，并且使用安装时自带的示范数据后，Joomla的首页如下。

注意其中左下部分，有一个供用户登录的表单

http://joomla-weibo.googlecode.com/svn/wiki/images/17/1.png

这个表单是由joomla本身所提供的认证模块，现在让我们把我们的微博认证模块也加到其中。

== 增加微博认证用的模块 ==

首先在管理菜单中选择“管理-模块管理”

新建一个模块：

http://joomla-weibo.googlecode.com/svn/wiki/images/17/5.png

选择“微博登陆”

http://joomla-weibo.googlecode.com/svn/wiki/images/17/6.png

请设置模块名称，比如“WeiboLogin”，位置，请选择“position-7”，这是系统自带的示范页面中左侧栏的位置标识。您自己的网站可能不是这个。

http://joomla-weibo.googlecode.com/svn/wiki/images/17/7.png

其他相关选项的解释：

 * 隐藏标题：如果不隐藏，那界面上会出现“WeiboLogin”这个标题
 * 前导文本：可以不设置，也可以设置成您喜欢的文字，用于提示用户使用微博登录
 * 启用新浪、腾讯、网易微博：根据您的需要，启用或者禁用相应的微博，注这仅仅是用户界面上是否显示相应的图标
 * 图标大小：显示在用户界面上的图标大小。

以上设置完毕，请先选择“保存”

http://joomla-weibo.googlecode.com/svn/wiki/images/17/8.png

这时，就可以安排同样是位于“position-7”所标识的左侧栏中的其他模块的位置了。在这个例子里，我们把我们的登录模块安排在系统的登录表单之下。

= 使用微博登录 =

http://joomla-weibo.googlecode.com/svn/wiki/images/17/9.png

设置完成后，保存退出，这时到用户界面的首页，您可以看到，左下方的登录表单中出现了“使用微博登录”的部分，同时显示出三个按钮。用户按其中的一个，便可以使用微博登录了。

http://joomla-weibo.googlecode.com/svn/wiki/images/17/10.png

下面的例子是使用新浪微博登录，这时首先会跳转到新浪微博的网页上进行认证，

http://joomla-weibo.googlecode.com/svn/wiki/images/15.png

认证后，界面上会显示出已经登录的界面，并且，用户的昵称就是用户的“微博昵称”加上（来自某某微博）

http://joomla-weibo.googlecode.com/svn/wiki/images/17/11.png

= 后台用户管理 =

进入管理界面中的用户管理，您可以看到登录的微博用户

http://joomla-weibo.googlecode.com/svn/wiki/images/17/12.png

您可以象操作普通的Joomla用户一样，为这个用户设置权限等。请注意，在joomla系统中使用的“用户ID”

http://joomla-weibo.googlecode.com/svn/wiki/images/17/13.png

当您要把这个用户设置成黑名单时，请进入“管理-插件”，选择“认证-微博”，以这个用户ID填入黑名单中，多个名单请你半角逗号分隔

http://joomla-weibo.googlecode.com/svn/wiki/images/17/14.png

